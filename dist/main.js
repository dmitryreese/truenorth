!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=(e={})=>{let t=e,r=[];const n=new CustomEvent("StateUpdated");return{getState:()=>t,updateState:e=>(t={...t,...e},r.forEach(e=>e.dispatchEvent(n)),t),subscribe:e=>{r.push(e)}}};const a=["WHEEL","CUP","TREE","APPLE","PHONE","BEAR","RABBIT","ORANGE","RAT","TABLE","COFFEE","CAKE"],s=(e,t=0)=>{return e[Math.floor(Math.random()*(e.length-t)+t)]},o=()=>s(a),d=o();var i={gameLength:60,draggableLettersCount:9,isTimeout:!1,gameFinished:!1,successfullyDropped:!1,failsCount:0,remainingLetters:d.length,currentWord:d};const l=n(i),{getState:c,updateState:u,subscribe:m}=l;var p=()=>{let e=null,t=null;const r=document.createElement("div"),n=e=>{const t=e=>1===e.length?`0${e}`:e,r=`${e%60}`;return`${t(`${(e-r)/60}`)} : ${t(r)}`},a=()=>{t-=1,r.innerHTML=n(t)},s=()=>{t>1?(a(),e=setTimeout(s,1e3)):(a(),o(),u({isTimeout:!0}))},o=()=>clearTimeout(e);return r.classList.add("timer-container","mb40"),{TimerComponent:r,stopTimer:o,startTimer:()=>{const{gameLength:e}=c();t=e,r.innerHTML=n(t),setTimeout(s,1e3)}}};var g=e=>{const t=document.createElement("button");return t.innerHTML="Play Again",t.classList.add("restart-button"),t.addEventListener("click",e),t};var L=e=>{const t=document.createElement("div");return t.innerHTML=e,t.classList.add("game-state","mb40",`game-state_${e.toLowerCase()}`),t};var f=()=>{const{currentWord:e,draggableLettersCount:t}=c(),r=document.createElement("div"),n=(e=>{const t=[...e];for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t})([...e,...Array(t-e.length).fill(0).map(e=>(()=>s("ABCDEFGHIJKLMNOPQRSTUVWXYZ"))())]).map(e=>(e=>{const t=document.createElement("div");return t.draggable=!0,t.dataset.letter=e,t.classList.add("letter-box","letter-box_draggable"),t.innerHTML=e,t.addEventListener("dragstart",e=>{t.classList.add("letter-box_dragging"),e.dataTransfer.setData("text/plain",e.currentTarget.dataset.letter)}),t.addEventListener("dragend",e=>{const{successfullyDropped:r,remainingLetters:n}=c();t.classList.remove("letter-box_dragging"),r&&(t.classList.add("letter-box_disabled"),t.draggable=!1,u({successfullyDropped:!1,remainingLetters:n-1}))}),t})(e));return r.classList.add("flex","mb40"),n.forEach(e=>{m(e),e.addEventListener("StateUpdated",t=>{const{failsCount:r,remainingLetters:n,isTimeout:a}=c();(3===r||0===n||a)&&(e.draggable=!1,e.classList.add("letter-box_disabled"))}),r.appendChild(e)}),r};var b=()=>{const{currentWord:e}=c(),t=document.createElement("div");return t.classList.add("flex","mb40"),e.split("").forEach(e=>{t.appendChild((e=>{const t=document.createElement("div");return t.dataset.letter=e,t.classList.add("letter-box","letter-box_dropzone"),t.addEventListener("dragover",e=>e.preventDefault()),t.addEventListener("dragenter",e=>{t.classList.contains("letter-box_success")||t.classList.add("letter-box_dropzone-dragenter")}),t.addEventListener("dragleave",e=>{t.classList.remove("letter-box_dropzone-dragenter")}),t.addEventListener("drop",e=>{const{failsCount:r}=c();t.classList.remove("letter-box_dropzone-dragenter"),t.classList.contains("letter-box_success")||(t.dataset.letter===e.dataTransfer.getData("text")?(t.classList.remove("letter-box_error"),t.classList.add("letter-box_success"),t.innerHTML=t.dataset.letter,u({successfullyDropped:!0})):(t.classList.add("letter-box_error"),t.innerHTML=e.dataTransfer.getData("text"),u({successfullyDropped:!1,failsCount:r+1})),e.dataTransfer.clearData())}),t})(e))}),t};const v=()=>{const e=document.createElement("div"),{TimerComponent:t,stopTimer:r,startTimer:n}=p(),a=f(),s=b();e.classList.add("countdown-container");try{document.body.removeChild(document.querySelector(".countdown-container"))}catch(e){}e.appendChild(t),e.appendChild(a),e.appendChild(s),e.addEventListener("StateUpdated",a=>{const{failsCount:s,remainingLetters:d,isTimeout:l}=c();if(3===s||0===d||l){l&&t.classList.add("timer-container_timeout");const a=L(0===d?"Success":"Fail"),s=g(()=>{const e=o(),t=e.length;u({...i,isTimeout:!1,gameFinished:!1,currentWord:e,remainingLetters:t}),n(),v()});e.appendChild(a),e.appendChild(s),r()}}),m(e),n(),document.body.appendChild(e)};v()}]);